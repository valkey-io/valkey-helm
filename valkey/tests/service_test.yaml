suite: service configuration
templates:
  - templates/service.yaml
tests:
  - it: should be able to set custom loadBalancerClass
    set:
      service.loadBalancerClass: "custom-lb-class"
    template: templates/service.yaml
    asserts:
      - isKind:
          of: Service
      - equal:
          path: spec.loadBalancerClass
          value: "custom-lb-class"
  - it: shouldn't have loadBalancerClass by default
    template: templates/service.yaml
    asserts:
      - isKind:
          of: Service
      - notExists:
          path: spec.loadBalancerClass
